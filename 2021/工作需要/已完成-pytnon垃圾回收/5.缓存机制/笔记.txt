4.小结

在python中维护了一个refchain的双向
环状链表,这个链表存储程序创建的所有对象
每种类型的对象中都有一个ob_refcnt引用计数器的值
引用个数+1,-1,最后当引用计数器变为0时会进行垃圾回收(
    对象销毁,refchain中移除
)

5.python缓存
5.1池(int)
为了避免重复创建和销毁一些常见对象,维护池
v1=7#内部不会开辟内存,直接去吃中获取
v2=9
v3=9
启动解析器时,python内部帮我们创建:-5,-4,....257

5.2free_list(float/list/tuple/dict)
当一个对象的引用计数器为0时,按理说应该回收,内部
不会回收,而是将对象添加到free_list链表中当缓存
以后再去创建对象时,不再重新开辟内存,而是直接使用
free_list

v1=3.14
del v1 #refchain中移除,将对象添加到free_list中,free_list满了则销毁

v9=999.99#不会重新开辟内存,去free_list中获取对象,
对象内部数据初始化,再放到refchain中


